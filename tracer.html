<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="Qianyu Hang at NC State University" />


<title>Info for tracer study</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-4.5.0/css/font-awesome.min.css" rel="stylesheet" />

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 60px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 65px;
  margin-top: -65px;
}

.section h2 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h3 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h4 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h5 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h6 {
  padding-top: 65px;
  margin-top: -65px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Qianyu's Blog</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Research
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="stream.html">Stream Restoration</a>
    </li>
    <li>
      <a href="questions.html">Research Questions</a>
    </li>
    <li>
      <a href="tracer.html">Tracer study</a>
    </li>
    <li>
      <a href="field.html">Field Visit</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Tutorial
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="rstudio.html">R Studio</a>
    </li>
    <li>
      <a href="rmarkdown.html">R Markdown</a>
    </li>
    <li>
      <a href="excel.html">Microsoft Excel</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Courses
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="channel.html">Open Channel Flow</a>
    </li>
  </ul>
</li>
<li>
  <a href="cv.html">CV</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    NC State
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="https://www.ncsu.edu/">NC State</a>
    </li>
    <li>
      <a href="https://www.lib.ncsu.edu/">Libraries</a>
    </li>
    <li>
      <a href="https://www.bae.ncsu.edu/">Bio&amp;Ag Eng</a>
    </li>
  </ul>
</li>
<li>
  <a href="us.html">US</a>
</li>
<li>
  <a href="stories.html">Stories</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-link"></span>
     
    Connect
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="mailto:qhang@ncsu.edu">
        <span class="fa fa fa fa-envelope-o"></span>
         
        email
      </a>
    </li>
    <li>
      <a href="https://scholar.google.com/citations?user=bakil3oAAAAJ&amp;hl=en">
        <span class="fa fa-google"></span>
         
        Google Scholar
      </a>
    </li>
    <li>
      <a href="https://github.com/hangqianyu">
        <span class="fa fa-github"></span>
         
        Github
      </a>
    </li>
    <li>
      <a href="https://www.linkedin.com/in/qianyu-hang-99562215a/">
        <span class="fa fa-linkedin"></span>
         
        Linkedin
      </a>
    </li>
    <li>
      <a href="https://www.researchgate.net/profile/Qianyu_Hang2">ResearchGate</a>
    </li>
  </ul>
</li>
<li>
  <a href="comments.html">Comments</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Info for tracer study</h1>
<h4 class="author"><em><a href="https://github.com/hangqianyu">Qianyu Hang</a> at NC State University</em></h4>
<h4 class="date"><em>Mon Jun 04, 2018</em></h4>

</div>


<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p>A tracer study involves the injection of certain concentrations of conservative or non-conservative solutes at a known constant rate into the stream for a certain time period and the measurement of the variations of the solutes concentration after injection at the downstream direction of the injection place; thus, the processes of advection, dispersion, lateral inflow and transient storage in the stream are able to be estimated.</p>
</div>
<div id="literature-1" class="section level1">
<h1>Literature 1</h1>
<p><em>基于OTIS模型的巢湖十五里河源头段氮磷迁移转化规律及模拟</em></p>
<p><strong>潜流带 (Hyporheic Zone):</strong> 从地表水与地下水相互作用为研究对象和目的出发，将潜流带定义为“潜流带是生物地球化学活动强烈的地表水与地下水的混合区域”。就河流而言，潜流带位于蓄水层之下并接近河流与河床的位置，与水体和河床密切相连，是上覆水与地下水进行交换和混合的区域，所以说潜流带是河流连续体的重要组成部分，连接着河流的陆地、地表和地下。</p>
<p><strong>暂态存储区</strong>是指水体中水流较为缓慢的区域，包括潜流带、死水区以及由河流形态、河床地貌等因素造成的溶质暂时存储区域，是影响溶质滞留和吸收的重要因素。</p>
<p>OTIS (One-Dimensional Transport with Inflow and Storage)和参数自动优化包OTIS-P (One-Dimensional Transport with Inflow and Storage with Parameter Optimization)。Knust等将小河流经修复和不进行任何修复作为对比研究潜流活动，发现溶质在修复河段内的Residence Time Distribution，RTD有所延长</p>
<p>OTIS 应用程序是通过 Crank-Nicolson差分数值算法进行模型求解，利用示踪实验中测定的溶质浓度数据，定量估算影响小河流溶质迁移转化的水力参数。该程序是应用试错法（trial-and-error）调整模型参数值，使模拟得到的溶质浓度值与观测值相匹配。由于试错法存在参数识别性差、其他组参数值可能会提供相同或更好的匹配等缺陷和不足，Runkel 又利用改进的反演模型（inverse modeling）OTIS-P，将 OTIS 的数学模型框架和 STARPAC 的非线性最小二乘法（Nonlinear Least Squares，NLS）结合，提供一种自动估计模型参数的方法。</p>
<p>应用 OTIS 程序需要具备输入/输出文件。输入文件包含控制文件（controlfile）、参数文件（parameterfile）、流量文件（flow file）。其中，控制文件用于列明其他输入输出文件的文件名，其文件名control.inp不可更改；参数文件用于设置模拟选项、上游边界条件以及在模型运行过程中的常量参数；流量文件包含模拟期间可能变化的模型参数（如Q和A）。将编辑好的输入文件和应用程序放在同一目录下，点击OTIS.exe，若程序成功执行，则会生成输出文件：响应文件（echo.out）和溶质输出文件（solute output file），如若考虑溶质吸附作用，将会相应生成溶质吸附输出文件(sorption output file )。</p>
<p>同样，应用 OTIS-P 程序也需要具备输入/输出文件，其要求 5 个输入文件，前 3 个输入文件（control、 parameter 和 flow file）与上述OTIS 输入文件的描述相同。第 4 个输入文件是数据文件（data file），用于提供参数估计步骤所需的观测值；最后是 STARPAC 输入文件（STARPAC input file），用于指定将由 OTIS-P 优化的参数和其他固定参数的设置。上述输入文件完成后，与应用程序放在同一根目录下，点击OTIS-P.exe，若程序成功执行，则会生成响应文件、溶质输出文件，参数输出文件（parameter output file）和 STARPAC 输出文件（STARPAC output file），若考虑吸附作用，将相应生成吸附输出文件。</p>
<p>结合电导率和<span class="math inline">\(Cl^{-1}\)</span>浓度相结合的试验方案，发现<span class="math inline">\(Cl^{-1}\)</span>浓度与电导率呈显著线性相关关系，以此模拟<span class="math inline">\(Cl^{-1}\)</span>浓度，获得高频率提高准确度。此外，该研究分析了OTIS模型中不同功能模块作用效果，比如侧向补给<span class="math inline">\(q_L = 0\)</span>或暂态存储<span class="math inline">\(\alpha = 0\)</span>。若不计侧向补给作用，则将延迟溶质迁移到达下游的时间，且模拟浓度超过实测值；而若忽略暂态存储模块影响，则不仅导致模拟浓度值远高于观测值，也影响溶质模拟浓度穿透曲线的形状，并明显缩短了溶质迁移到达下游河段的时间。</p>
<p><em>暂态存储度量指标</em></p>
<p><strong>达姆科勒数（Damkohler number，DaI）</strong>常用来评估模型对暂态存储过程的灵敏性和暂态存储参数<span class="math inline">\(A_s\)</span>和 的可靠性。DaI反映了迁移作用和存储过程对溶质迁移扩散影响的均衡程度。理想情况下，DaI处于0.1和1.0之间，在此范围内，认为暂态存储参数的不确定性最低；在0.1~10之间，认为参数值可以接受，此时在河段内主河道和暂态存储区之间有足够的溶质进行交换，以支持暂态存储参数的估值。当DaI远小于1时，可能由于河水流速过快、<span class="math inline">\(\alpha\)</span>和<span class="math inline">\(\frac{A}{A_s}\)</span>过小导致的交换作用时间尺度长或河段长度过短。</p>
<p><strong>河水（或溶质）在进入暂态存储区之前的平均行进长度，也即水力吸附长度</strong></p>
<p><strong>河水（或溶质）在暂态存储区内的平均停留时间</strong></p>
<p><strong>每单位河段长度上通过暂态存储区的河水通量</strong></p>
<p><strong>水力停留因子，考虑了河水（或溶质）在暂态存储区的停留时间以及在进入暂态存储区之前的平均行进长度所需时间，即单位河段长度上溶质在暂态存储区的停留时间。</strong></p>
<p><span class="math display">\[R_h = \frac{T_s}{L_s} = \frac{A_s}{Q}\]</span></p>
<p><span class="math inline">\(F_{med}\)</span>是由于暂态存储作用产生的迁移时间中值分数，反映流速与暂态存储之间的相互作用。由于<span class="math inline">\(F_{med}\)</span>的数值大小与河段长度有关，为便于不同河段或小河流/溪流之间的比较，通常取标准长度200 m进行计算，即<span class="math inline">\(F_{med}^{200}\)</span>。在实验河段内，若暂态存储作用显著影响溶质向下游迁移，则<span class="math inline">\(F_{med}^{200}\)</span>较高，这表明溶质在河流迁移时间尺度长，主要是由于暂态存储作用的结果。与之相反，若溶质向下游迁移几乎不受暂态存储作用的影响，则<span class="math inline">\(F_{med}^{200}\)</span>较低。</p>
<p><span class="math display">\[F_{med} = (1 - e^{\frac{L\alpha}{v}}) \ast \frac{A_s}{A + A_s}\]</span></p>
<p><strong>灵敏度分析:</strong> <code>RMSE</code></p>
<p>灵敏度排序结果表明，在十五里河源头河段，影响模型的最灵敏参数为断面面积A，其次是暂态存储参数<span class="math inline">\(A_s\)</span>和<span class="math inline">\(\alpha\)</span>，扩散系数D则为最弱，即灵敏度排序为A &gt; <span class="math inline">\(A_s\)</span> &gt; <span class="math inline">\(\alpha\)</span> &gt; D。</p>
</div>
<div id="literature-2" class="section level1">
<h1>Literature 2</h1>
<p><em>Natural channel design impacts on reach-scale transient storage</em></p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
